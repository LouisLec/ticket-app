query GetAllProjectsByOrganizationId($organizationId: UUID!) {
  projects(
    orderBy: [CREATED_AT_DESC]
    condition: { organizationId: $organizationId }
  ) {
    nodes {
      ...ProjectFragment
    }
  }
}

query GetProjectById($projectId: UUID!) {
  project(id: $projectId) {
    ...ProjectFragment
    domainsList {
      ...DomainFragment
    }
    personasList {
      ...PersonaFragment
    }
    epicsList {
      ...EpicFragment
      userStoriesList {
        ...UserStoryFragment
        tasksList {
          ...TaskFragment
          domain {
            ...DomainFragment
          }
        }
      }
    }
  }
}

query GetProjectBySlug($projectSlug: String!, $organizationSlug: String!) {
  projectBySlug(
    projectSlug: $projectSlug
    organizationSlug: $organizationSlug
  ) {
    organization {
      ...OrganizationFragment
    }
    ...ProjectFragment
    domainsList {
      ...DomainFragment
    }
    personasList {
      ...PersonaFragment
    }
    epicsList {
      ...EpicFragment
      userStoriesList {
        ...UserStoryFragment
        tasksList(orderBy: [ORDER_ASC]) {
          ...TaskFragment
          domain {
            ...DomainFragment
          }
        }
      }
    }
  }
}
